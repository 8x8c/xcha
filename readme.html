<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>XChaCha20-Poly1305 CLI Tool Usage Guide</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 2rem;
      line-height: 1.6;
    }
    pre {
      background: #f4f4f4;
      padding: 1rem;
      border: 1px solid #ccc;
      overflow-x: auto;
    }
    code {
      background: #f4f4f4;
      padding: 0.2rem 0.4rem;
    }
    h1, h2, h3 {
      color: #333;
    }
  </style>
</head>
<body>
  <h1>XChaCha20-Poly1305 CLI Tool Usage Guide</h1>

  <h2>Overview</h2>
  <p>
    This CLI tool allows you to encrypt and decrypt files using XChaCha20-Poly1305.
    The key used for encryption/decryption is stored in a file called <code>key.key</code> and can be generated
    deterministically using a password (via the <code>-k</code> option) or provided manually from another source.
  </p>

  <h2>Key Generation (-k Option)</h2>
  <p>
    To generate a key from a password, use the <code>-k</code> flag. The app takes your password, computes its SHA3-256 hash,
    and writes the resulting 32 bytes to <code>key.key</code>.
  </p>
  <p>
    For example, to generate a key using the password <code>adelia</code>:
  </p>
  <pre>
./xcha -k adelia
  </pre>
  <p>
    The SHA3-256 hash produces 32 raw bytes. When viewed as raw data, these bytes might look like garbled characters.
    However, when encoded in hexadecimal, they form a 64-character string (e.g. <code>720e4ab295a42f1d8d52fd2a4078e37724f650a90e43a8273b8e2cdddc62c677</code>).
    This is exactly the same as the output from a SHA3-256 JavaScript app.
  </p>
  <p>
    If a <code>key.key</code> file already exists, the app will warn you and overwrite it.
  </p>

  <h2>Encryption (-e Option)</h2>
  <p>
    To encrypt a file, use the <code>-e</code> flag followed by the input and output file names. The app:
  </p>
  <ul>
    <li>Reads the key from <code>key.key</code></li>
    <li>Generates a random nonce (24 bytes) for each encryption</li>
    <li>Encrypts the input file and prepends the nonce to the ciphertext</li>
    <li>Saves the result to the output file</li>
  </ul>
  <p>
    Example command:
  </p>
  <pre>
./xcha -e plain.txt encrypted.dat
  </pre>

  <h2>Decryption (-d Option)</h2>
  <p>
    To decrypt a file, use the <code>-d</code> flag followed by the input and output file names. The app:
  </p>
  <ul>
    <li>Reads the key from <code>key.key</code></li>
    <li>Extracts the nonce from the beginning of the input file</li>
    <li>Decrypts the ciphertext using the nonce and key</li>
    <li>Saves the decrypted data to the output file</li>
  </ul>
  <p>
    Example command:
  </p>
  <pre>
./xcha -d encrypted.dat decrypted.txt
  </pre>

  <h2>Key Sources and Verification</h2>
  <p>
    The <code>key.key</code> file can be generated by the app using the <code>-k</code> option, or you can create it manually
    from any other source that produces a SHA3-256 hash. The important part is that the key must be 32 bytes.
  </p>
  <p>The key doesn't have to come from a SHA3-256 hash specifically; it just needs to be 32 bytes of binary data. The SHA3-256 method is used here as a convenient, deterministic way to derive a key from a password, but you can generate the key by any secure method as long as it's exactly 32 bytes long. </p>
  
  
  
  
  <p>
    <strong>Verifying the Key in Hexadecimal</strong>
  </p>
  <p>
    Since the SHA3-256 hash is 32 raw bytes, you can convert it to a hexadecimal string for easy comparison with other tools.
  </p>
  <h3>On Linux</h3>
  <p>Use one of the following commands:</p>
  <pre>
xxd key.key
# or
hexdump -C key.key
# or
od -t x1 key.key
  </pre>
  <h3>On Windows (using PowerShell)</h3>
  <p>Open PowerShell and run:</p>
  <pre>
Format-Hex key.key
  </pre>
  <p>
    These commands will display the contents of <code>key.key</code> in hexadecimal, allowing you to verify that it matches the expected SHA3-256 hash output.
  </p>

  <h2>Summary</h2>
  <p>
    With this tool, you can:
  </p>
  <ul>
    <li>Generate a key deterministically from a password (<code>-k</code> option).</li>
    <li>Encrypt files (<code>-e input output</code>).</li>
    <li>Decrypt files (<code>-d input output</code>).</li>
    <li>Create the key manually if desired, as long as it is a valid 32-byte key (e.g., from another SHA3-256 source).</li>
  </ul>
  <p>
    The key generated by <code>-k</code> is equivalent to a SHA3-256 hash output, which you can compare using common hex-dumping commands.
  </p>
</body>
</html>

